{
  "name": "oxc-vscode",
  "description": "oxc vs code extension",
  "license": "MIT",
  "version": "1.32.0",
  "icon": "icon.png",
  "publisher": "oxc",
  "displayName": "Oxc",
  "bugs": {
    "url": "https://github.com/oxc-project/oxc/issues"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/oxc-project/oxc.git",
    "directory": "editors/vscode"
  },
  "categories": [
    "Linters"
  ],
  "keywords": [
    "linter",
    "oxc"
  ],
  "engines": {
    "vscode": "^1.93.0"
  },
  "sponsor": {
    "url": "https://github.com/sponsors/boshen"
  },
  "activationEvents": [
    "onLanguage:javascript",
    "onLanguage:javascriptreact",
    "onLanguage:typescript",
    "onLanguage:typescriptreact",
    "onLanguage:vue",
    "onLanguage:svelte",
    "onLanguage:astro"
  ],
  "main": "./out/main.js",
  "contributes": {
    "commands": [
      {
        "command": "oxc.restartServer",
        "title": "Restart oxlint Server",
        "category": "Oxc"
      },
      {
        "command": "oxc.restartServerFormatter",
        "title": "Restart oxfmt Server",
        "category": "Oxc"
      },
      {
        "command": "oxc.toggleEnable",
        "title": "Toggle whether oxc is enabled",
        "category": "Oxc"
      },
      {
        "command": "oxc.showOutputChannel",
        "title": "Show Output Channel (Linter)",
        "category": "Oxc"
      },
      {
        "command": "oxc.showOutputChannelFormatter",
        "title": "Show Output Channel (Formatter)",
        "category": "Oxc"
      },
      {
        "command": "oxc.applyAllFixesFile",
        "title": "Fix all auto-fixable problems (file)",
        "category": "Oxc"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "oxc",
      "properties": {
        "oxc.lint.run": {
          "scope": "resource",
          "type": "string",
          "enum": [
            "onSave",
            "onType"
          ],
          "default": "onType",
          "markdownDescription": "Run the linter on save (onSave) or on type (onType)"
        },
        "oxc.enable": {
          "type": "boolean",
          "default": true,
          "scope": "window",
          "markdownDescription": "Enable oxc language server"
        },
        "oxc.requireConfig": {
          "scope": "resource",
          "type": "boolean",
          "default": false,
          "markdownDescription": "Start the language server only when a `.oxlintrc.json` file exists in one of the workspaces."
        },
        "oxc.trace.server": {
          "type": "string",
          "scope": "window",
          "enum": [
            "off",
            "messages",
            "verbose"
          ],
          "enumDescriptions": [
            "No traces",
            "Error only",
            "Full log"
          ],
          "default": "off",
          "markdownDescription": "Traces the communication between VS Code and the language server."
        },
        "oxc.configPath": {
          "type": [
            "string",
            "null"
          ],
          "scope": "resource",
          "default": null,
          "markdownDescription": "Path to oxlint configuration. Keep it empty to enable nested configuration."
        },
        "oxc.tsConfigPath": {
          "type": [
            "string",
            "null"
          ],
          "scope": "resource",
          "default": null,
          "markdownDescription": "Path to the project's TypeScript config file. \n\nIf your `tsconfig.json` is not at the root, you will need this set for the `import` plugin rules to resolve imports correctly."
        },
        "oxc.unusedDisableDirectives": {
          "type": "string",
          "scope": "resource",
          "enum": [
            "allow",
            "warn",
            "deny"
          ],
          "enumDescriptions": [
            "Allow",
            "Warn",
            "Deny"
          ],
          "default": "allow",
          "markdownDescription": "Define how directive comments like `// oxlint-disable-line` should be reported, when no errors would have been reported on that line anyway."
        },
        "oxc.typeAware": {
          "type": "boolean",
          "scope": "resource",
          "default": false,
          "markdownDescription": "Enable type-aware linting. Requires the `oxlint-tsgolint` package.\n\n See [the oxc website](https://oxc.rs/docs/guide/usage/linter/type-aware.html) for more information."
        },
        "oxc.disableNestedConfig": {
          "type": "boolean",
          "scope": "resource",
          "default": false,
          "markdownDescription": "Disable searching for nested configuration files. When set to true, only the configuration file specified in `oxc.configPath` (if any) will be used."
        },
        "oxc.fixKind": {
          "type": "string",
          "scope": "resource",
          "enum": [
            "safe_fix",
            "safe_fix_or_suggestion",
            "dangerous_fix",
            "dangerous_fix_or_suggestion",
            "none",
            "all"
          ],
          "enumDescriptions": [
            "Only safe fixes will be applied",
            "Safe fixes or suggestions will be applied",
            "Safe and dangerous fixes will be applied",
            "Safe and dangerous fixes or suggestions will be applied",
            "No fixes will be applied",
            "All fixes and suggestions will be applied"
          ],
          "default": "safe_fix",
          "markdownDescription": "Specify the kind of fixes to suggest/apply."
        },
        "oxc.flags": {
          "type": "object",
          "scope": "resource",
          "default": {},
          "markdownDeprecationMessage": "deprecated since 1.25.0, use `oxc.fixKind` or `oxc.disableNestedConfig` instead.",
          "markdownDescription": "Specific Oxlint flags to pass to the language server."
        },
        "oxc.fmt.experimental": {
          "type": "boolean",
          "scope": "resource",
          "default": false,
          "markdownDescription": "Enable experimental formatting support. This feature is experimental and might not work as expected."
        },
        "oxc.fmt.configPath": {
          "type": [
            "string",
            "null"
          ],
          "scope": "resource",
          "default": null,
          "markdownDescription": "Path to an oxfmt configuration file"
        },
        "oxc.path.server": {
          "type": "string",
          "scope": "window",
          "markdownDescription": "Path to Oxc language server binary. Mostly for testing the language server.",
          "deprecated": true,
          "markdownDeprecationMessage": "Use `oxc.path.oxlint` instead, targeting the `oxlint` binary."
        },
        "oxc.path.oxlint": {
          "type": "string",
          "scope": "window",
          "markdownDescription": "Path to an Oxc linter binary. Will be used by the language server instead of the bundled one."
        },
        "oxc.path.oxfmt": {
          "type": "string",
          "scope": "window",
          "markdownDescription": "Path to an Oxc formatter binary. Will be used by the language server instead of the bundled one."
        },
        "oxc.path.node": {
          "type": "string",
          "scope": "window",
          "markdownDescription": "Path to a Node.js binary. Will be added to the language server `PATH` environment."
        }
      }
    },
    "jsonValidation": [
      {
        "fileMatch": ".oxlintrc.json",
        "url": "https://raw.githubusercontent.com/oxc-project/oxc/main/npm/oxlint/configuration_schema.json"
      },
      {
        "fileMatch": [
          ".oxfmtrc.json",
          ".oxfmtrc.jsonc"
        ],
        "url": "https://raw.githubusercontent.com/oxc-project/oxc/main/npm/oxfmt/configuration_schema.json"
      }
    ],
    "languages": [
      {
        "id": "jsonc",
        "filenames": [
          ".oxlintrc.json",
          ".oxfmtrc.json",
          ".oxfmtrc.jsonc"
        ]
      }
    ]
  },
  "capabilities": {
    "untrustedWorkspaces": {
      "supported": "limited",
      "description": "The Extension will always use the Language Server shipped with the Extension.",
      "restrictedConfigurations": [
        "oxc.path.server",
        "oxc.path.oxlint",
        "oxc.path.oxfmt"
      ]
    }
  },
  "scripts": {
    "preinstall": "[ -f icon.png ] || curl https://cdn.jsdelivr.net/gh/oxc-project/oxc-assets/square.png --output icon.png",
    "build": "pnpm run server:build:release && pnpm run compile && pnpm run package",
    "build:dev": "pnpm run server:build:debug && pnpm run compile && pnpm run package",
    "compile": "rolldown -c rolldown.config.ts",
    "watch": "pnpm run compile --watch",
    "package": "vsce package --no-dependencies -o oxc_language_server.vsix",
    "install-extension": "code --install-extension oxc_language_server.vsix --force",
    "oxlint:build:debug": "pnpm -C ../../apps/oxlint build-napi-test && pnpm -C ../../apps/oxlint build-js",
    "oxlint:build:release": "pnpm -C ../../apps/oxlint build-napi && pnpm -C ../../apps/oxlint build-js",
    "oxfmt:build:debug": "pnpm -C ../../apps/oxfmt build-napi-test && pnpm -C ../../apps/oxfmt build-js",
    "oxfmt:build:release": "pnpm -C ../../apps/oxfmt build-napi && pnpm -C ../../apps/oxfmt build-js",
    "server:build:debug": "cross-env CARGO_TARGET_DIR=./target cargo build -p oxc_language_server",
    "server:build:release": "cross-env CARGO_TARGET_DIR=./target cargo build -p oxc_language_server --release",
    "test": "cross-env TEST=true pnpm run compile && vscode-test",
    "test:single-folder": "cross-env TEST=true pnpm run compile && cross-env TEST_SUITE=single-folder vscode-test",
    "test:multi-root": "cross-env TEST=true pnpm run compile && cross-env TEST_SUITE=multi-root vscode-test",
    "test:oxlint": "cross-env TEST=true pnpm run compile && cross-env TEST_SUITE=oxlint-lsp vscode-test",
    "test:oxfmt": "cross-env TEST=true pnpm run compile && cross-env TEST_SUITE=oxfmt-lsp vscode-test",
    "type-check": "tsc --noEmit"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.9",
    "@types/node": "catalog:",
    "@types/vscode": "1.93.0",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.4.1",
    "@vscode/vsce": "^3.0.0",
    "cross-env": "catalog:",
    "ovsx": "^0.10.0",
    "rolldown": "1.0.0-beta.53",
    "tinyglobby": "^0.2.15",
    "typescript": "catalog:"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.1"
  },
  "vsce": {
    "dependencies": false
  }
}
