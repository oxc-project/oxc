name: Clone submodules

description: Clone submodules

inputs:
  test262:
    default: true
    required: false
    type: boolean
    description: Whether to clone test262 submodule

  babel:
    default: true
    required: false
    type: boolean
    description: Whether to clone babel submodule

  typescript:
    default: true
    required: false
    type: boolean
    description: Whether to clone typescript submodule

  prettier:
    default: true
    required: false
    type: boolean
    description: Whether to clone prettier submodule

  estree-conformance:
    default: true
    required: false
    type: boolean
    description: Whether to clone estree-conformance submodule

  node-compat-table:
    default: true
    required: false
    type: boolean
    description: Whether to clone node-compat-table submodule

runs:
  using: composite
  steps:
    - name: Clone submodules in parallel
      shell: bash
      env:
        ACTION_PATH: ${{ github.action_path }}
        TEST_262: ${{ inputs.test262 }}
        BABEL: ${{ inputs.babel }}
        TYPESCRIPT: ${{ inputs.typescript }}
        PRETTIER: ${{ inputs.prettier }}
        ESTREE_CONFORMANCE: ${{ inputs.estree-conformance }}
        NODE_COMPAT_TABLE: ${{ inputs.node-compat-table }}
      run: |
        ${GITHUB_WORKSPACE}/.github/scripts/clone-parallel.sh \
          "${TEST_262}" \
          "${BABEL}" \
          "${TYPESCRIPT}" \
          "${PRETTIER}" \
          "${ESTREE_CONFORMANCE}" \
          "${NODE_COMPAT_TABLE}"
