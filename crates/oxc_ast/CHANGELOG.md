# Changelog

All notable changes to this package will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project does not adhere to [Semantic Versioning](https://semver.org/spec/v2.0.0.html) until v1.0.0.

## [0.13.2] - 2024-06-03

### Refactor

* ast: update scope attrs (#3494)
* ast: move scope from `TSModuleBlock` to `TSModuleDeclaration` (#3488)
* ast: rename function params (#3487)
* ast: remove defunct hashing of `Span` (#3486)

### Bug Fixes

* ast: UsingDeclaration is not a typescript syntax (#3482)

### Features

* linter: add `oxc/no-const-enum` rule (#3435)

## [0.13.1] - 2024-05-22

### Refactor

* ast: fix clippy lint on nightly (#3346)
* ast: store `ScopeId` in AST nodes (#3302)
* parser: improve expression parsing (#3352)

### Bug Fixes

* linter/react: `rules_of_hooks` add support for property hooks/components. (#3300)- fix some nightly warnings |

### Performance

* ast: inline all `ASTBuilder` methods (#3295)

## [0.13.0] - 2024-05-14

### Bug Fixes

* ast: do not include `trailing_comma` in JSON AST (#3073)
* parser: correctly parse cls.fn<C> = x (#3208)
* traverse: set `ScopeFlags::Function` bit for class methods (#3277)
* traverse: create scopes for functions (#3273)
* traverse: create scope for function nested in class method (#3234)

### Features

* ast: add type to AccessorProperty to support TSAbractAccessorProperty (#3256)
* ast: add `callee_name` method to the `CallExpression`. (#3076)
* syntax: add `ToJsString` trait for f64 (#3131)
* transform: `oxc_traverse` crate (#3169)
* transformer: report ambient module cannot be nested error (#3253)
* transformer: implement typescript namespace (#3025)
* transformer/react: enable jsx plugin when development is true (#3141)
* traverse: add scope flags to `TraverseCtx` (#3229)

### Refactor

* ast: order AST type fields in visitation order (#3228)
* ast: add `is_strict` methods (#3227)
* ast: squash nested enums (#3115)
* ast: remove duplicate `TSNamedTupleMember` representation (#3101)
* ast: add array element `Elision` type (#3074)
* coverage: avoid an `String::from_utf8` over head during serialization (#3145)
* syntax: move number related functions to number module (#3130)
* transform: fix doc comments for methods generated by `inherit_variants!` macro (#3195)

### Documentation

* ast: document enum inheritance (#3192)

## [0.12.5] - 2024-04-22

### Performance

* ast: box typescript enum variants. (#3065)
* ast: box enum variants (#3058)
* ast: box `ImportDeclarationSpecifier` enum variants (#3061)
* ast: reduce indirection in AST types (#3051)

### Features

* ast: add `CatchParameter` node (#3049)

### Refactor

* ast: implement same traits on all fieldless enums (#3031)
* ast: shorten code (#3027)

## [0.12.4] - 2024-04-19

### Features

* transformer: react jsx transform (#2961)
* transformer: start on TypeScript annotation removal (#2951)
* transformer: implement react-jsx-self (#2946)
* transformer: transform TypeScript namespace (#2942)
* transformer/typescript: insert this assignment after the super call (#3018)

## [0.12.3] - 2024-04-11

### Refactor

* ast: clean up the ts type visit methods

### Features

* oxc_ast: add missing ast visits for types (#2938)

## [0.12.1] - 2024-04-03

### Bug Fixes

* ast: `FinallyClause` won't get visited as `BlockStatement` anymore. (#2881)

## [0.11.0] - 2024-03-30

### Bug Fixes

* parser: add support for empty module declaration (#2834)

### Refactor

* ast: add walk_mut functions (#2776)
* ast: add walk functions to Visit trait. (#2791)
* ast: get rid of unsafe transmutation in VisitMut trait. (#2764)

## [0.10.0] - 2024-03-14

- **BREAKING** ast: rename BigintLiteral to BigIntLiteral (#2659)

- **BREAKING** parser: drop TSImportEqualsDeclaration.is_export (#2654)

### Features

* ast: fill in missing ast visits (#2705)
* prettier: print `with_clause` in reexport declaration (#2635)
* span: remove `From<String>` and `From<Cow>` API because they create memory leak (#2628)
* transformer/decorators: handling the coexistence of class decorators and member decorators (#2636)- merge features `serde` and `wasm` to `serialize` (#2716) |

### Bug Fixes

* ast: serialize empty array elements as null (#2707)
* ast: correct TS type for `ArrayAssignmentTarget` (#2699)
* ast: add `type` field to TS types for `ObjectPattern` etc (#2670)
* ast: fix TS type for `AssignmentTargetRest` (#2668)
* ast: rename `TSIndexSignatureName` in JSON AST (#2664)
* ast: fix serializing rest elements (#2652)
* ast: add `RestElement`s in serialized AST to elements array (#2567)
* ast: parse `with_clause` in re-export declaration (#2634)
* parser: parse named rest element in type tuple (#2655)

### Refactor

* ast: refactor `Trivias` API - have less noise around it (#2692)
* ast: import `Tsify` to shorten code (#2665)
* ast: remove `Serialize` impls for Identifier types (#2651)
* ast: shorten manual TS defs (#2638)- derive `SerAttrs` on all AST types (#2698) |- reduce `cfg_attr` boilerplate with `SerAttrs` derive (#2669) |- "wasm" feature enable "serde" feature (#2639) |

## [0.9.0] - 2024-03-05

- **BREAKING** ast: align TSImportType with ESTree (#2578)

### Bug Fixes

* ast: temporary fix tsify not generating some typings (#2611)
* ast: expose NumericLiteral.raw (#2588)
* ast: support TSIndexSignature.readonly (#2579)
* ast: support FormalParameter.override (#2577)
* ast: change TSMappedType.type_annotation from TSTypeAnnotation to TSType (#2571)
* ast: rename serialized fields to camel case (#2566)
* ast: missing visit JSXElementName enum (#2547)
* ast: add Function to generated TS types and fix ModifierKind serialization (#2534)
* ast: few serialization issues (#2522)
* linter: fix getter return rule false positives in TypeScript (#2543)
* parser: parse empty method declaration as TSEmptyBodyFunctionExpression (#2574)
* semantic: incorrect scope for switch statement (#2513)

### Features

* ast: serialize `BindingPattern` to estree (#2610)
* ast: serialize identifiers to ESTree (#2521)
* ast: add `AssignmentTargetRest` (#2601)
* ast: add "abstract" type to `MethodDefinition` and `PropertyDefinition` (#2536)

## [0.8.0] - 2024-02-26

### Refactor

* ast: remove `TSEnumBody` (#2509)
* ast: s/TSThisKeyword/TSThisType to align with estree
* ast: s/NumberLiteral/NumericLiteral to align with estree
* ast: s/ArrowExpression/ArrowFunctionExpression to align estree
* ast: update TSImportType parameter to argument (#2429)

### Features

* ast: update arrow_expression to arrow_function_expression (#2496)
* ast: add `TSModuleDeclaration.kind` (#2487)
* linter: handle cjs `module.exports = {} as default export (#2493)
* linter: handle cjs `module.exports.foo = bar` and `exports.foo = bar` (#2492)
* parser: parse import attributes in TSImportType (#2436)
* prettier: print newlines between array expression elements (#2379)
* transformer/decorators: insert instanceBrand function (#2480)

### Bug Fixes

* prettier: semi colon after class property (#2387)

## [0.7.0] - 2024-02-09

### Bug Fixes

* codegen: format new expession + import expression with the correct parentheses (#2346)
* linter: fix no_dupe_keys false postive on similar key names (#2291)

### Features

* ast: enter AstKind::ExportDefaultDeclaration, AstKind::ExportNamedDeclaration and AstKind::ExportAllDeclaration (#2317)
* semantic: report parameter related errors for setter/getter (#2316)

### Refactor

* ast: fix BigInt memory leak by removing it (#2293)

## [0.6.0] - 2024-02-03

### Features

* ast: remove generator property from ArrowFunction (#2260)
* ast: remove expression property from Function (#2247)
* ast: remove serde skip for symbol_id and reference_id (#2220)
* ast: TypeScript definition for wasm target (#2158)
* ast: complete AccessorProperty todo in has_decorator (#2178)
* ast: visit TSTypeQuery (#2021)
* semantic: check optional parameters (#2263)
* semantic: cfg prototype (#2019)
* transformer: add decorators plugin (#2139)
* transformer/decorators: support for static and private member decorators (#2246)
* transformer/decorators: support method decorator and is not static (#2238)
* transformer/decorators: support transform member decorators (#2171)
* transformer/decorators: support version 2023-05 (#2152)
* transformer/decorators: support transform the class decorators in export declaration (#2145)
* transformer/typescript: support transform namespace (#2075)
* transformer/typescript: remove type-related exports (#2056)

### Refactor

* ast: improve simple_assignment_target_identifier and simple_assignment_target_member_expression method (#2153)
* ast: rename RestElement to BindingRestElement (#2116)
* linter: remove Regex and change error position (#2188)
* semantic: adding binder for ImportSpecifier replaces the ModuleDeclaration's binder (#2230)
* semantic: checking label in ContinueStatement based on LabelBuilder (#2202)
* semantic: add binder for FormalParameters and RestElement, replacing the binder for FormalParameters (#2114)
* transformer/decorators: optimizing code with ast.private_field (#2249)

### Bug Fixes

* ast: AcessorProperty is missing decorators (#2176)
* parser: fix crash on TSTemplateLiteralType in function return position (#2089)

## [0.5.0] - 2024-01-12

### Bug Fixes

* ast: implement `GetSpan` for `JSXElement` (#1861)- default visitor should visit prop init at `visit_object_property` (#2000) |

### Features

* ast: visit TSModuleReference (#1998)
* ast: enter/leave ClassBody and PrivateInExpression (#1792)
* ast: support visit more jsx ast in visit (#1662)
* linter: no-irregular-whitespace rule (#1835)
* linter: support eslint/no-unused-private-class-members rule (#1820)
* prettier: print CallExpression arguments correctly (#1631)
* semantic: add ClassTable (#1793)

### Refactor

* ast: introduce `ThisParameter` (#1728)
* parser: remove TokenValue::RegExp from `Token` (#1926)

## [0.4.0] - 2023-12-08

### Features

* ast: add enter node and scope for `VisitMut` trait (#1570)
* ast: implement new proposal-import-attributes (#1476)
* ast: add to_string function to VariableDelcartionKind (#1303)
* ast/semantic: parse jsdoc on `PropertyDefinition` (#1517)
* linter: eslint-lugin-unicorn no_useless_length_check (#1541)
* pretter: start formatting `ModuleDeclaration` and `ArrowExpression` (#1354)
* prettier: binaryish expressions with parens (#1597)
* prettier: check parens for `(let)[a] = 1` (#1585)
* prettier: wrap return statements with parentheses (#1583)
* prettier: add parens to conditional and arrow expr (#1530)
* prettier: improve format of ExportDefaultDeclaration  (#1520)
* prettier: turn off preserve_parens and start working on need-parens (#1487)
* prettier: add infra for need_parens (#1450)
* prettier: print `ExportAllDeclaration` (#1381)
* prettier: sort regex flags (#1372)
* prettier: print statements with newlines (#1367)
* prettier: add the basics of comment printing (#1313)
* transform: TypeScript Enum (#1173)
* transformer: Start on `function_name` transform. (#1510)- eslint-plugin-unicorn (recommended) prefer-node-protocol (#1618) |

### Refactor

* ast: VariableDeclarationKind::to_string -> as_str (#1321)
* prettier: clean up object::print_object_properties (#1573)
* rust: move to workspace lint table (#1444)

### Bug Fixes

* ast: remove debug_assertions from `debug_name`
* parser: Disallow ReservedWord in NamedExports (#1230)

## [0.3.0] - 2023-11-06

### Features

* ast: enter/leave scopes in Visit
* codegen: beauty class print (#995)
* codegen: implement the basics of non-minifying codegen (#987)
* linter: eslint/no-fallthrough (nursery)
* minifier: re-enable mangler (#972)
* minifier: partially re-enable minifier (#963)
* parser: TypeScript 5.2 (#811)
* semantic: check non-simple lhs expression of assignment expression (#994)
* transformer: implement more of react transform attributes (#1081)
* transformer: implement key extraction for react automatic (#1077)
* transformer: implement react get_attribute_name (#1076)
* transformer: start implementing react jsx transform (#1057)
* transformer: implement some of needs_explicit_esm for typescript (#1047)
* transformer: add utils to make logical_assignment_operators pass (#1017)
* transformer: ES2020 Nullish Coalescing Operator (#1004)
* transformer: finish 2016 exponentiation operator (#996)
* transformer: Class Static Block (#962)
* transformer: Shorthand Properties (#960)
* transformer: logical assignment operators (#923)
* transformer: transformer prototype (#918)
* transformer/react: read comment pragma @jsxRuntime classic / automatic (#1133)

### Bug Fixes

* ast: jsx attribute value and text child should be jsx string (#1089)
* codegen: fix some typescript codegen problems (#989)
* linter: revert changes to JSX attribute strings (#1101)- ts parsing error (#940) |

### Refactor

* ast: split syntax_directed_operations into separate files
* ast: clean up some methods
* ast: fix the lifetime annotations around Vist and VisitMut (#973)
* ast: change the arguments order for some `new` functions
* clippy: allow clippy::too_many_lines
* clippy: allow struct_excessive_bools
* transformer: remove returning None from transform functions (#1079)

## [0.2.0] - 2023-09-14

### Performance

* linter: reduce mallocs (#654)
* parser: lazily build trivia map instead of build in-place (#903)

### Features

* ast: Add to ChainExpression and ExpressionArrayElement to ASTKind (#785)
* ast: add `SymbolId` and `ReferenceId` (#755)
* ast: AstKind::debug_name() (#665)

### Refactor

* ast: use `atom` for `Directive` and `Hashbang` (#701)- improve code coverage in various places (#721) |

### Documentation

* ast: document why Directive.directive is a raw string

