---
source: crates/oxc_formatter/tests/fixtures/mod.rs
---
==================== Input ====================
// Type argument is a `TSMappedType`
const emitter = createGlobalEmitter<{
  [key in Event["type"]]: Extract<Event, { type: key }>
}>()

// Type argument is a `TSTypeLiteral`
const emitter2 = createGlobalEmitter<{
  longlonglonglongKey: Extract<Event, { type: key }>
}>()

// Type argument is an `TSTypeReference`
// https://github.com/oxc-project/oxc/issues/17275
export class Test {
  	readonly coordinates = model.required<
		  Immutable<{
		  	latitude: number;
		  	longitude: number;
		  }>
	  >();
}

==================== Output ====================
------------------
{ printWidth: 80 }
------------------
// Type argument is a `TSMappedType`
const emitter = createGlobalEmitter<{
  [key in Event["type"]]: Extract<Event, { type: key }>;
}>();

// Type argument is a `TSTypeLiteral`
const emitter2 = createGlobalEmitter<{
  longlonglonglongKey: Extract<Event, { type: key }>;
}>();

// Type argument is an `TSTypeReference`
// https://github.com/oxc-project/oxc/issues/17275
export class Test {
  readonly coordinates = model.required<
    Immutable<{
      latitude: number;
      longitude: number;
    }>
  >();
}

-------------------
{ printWidth: 100 }
-------------------
// Type argument is a `TSMappedType`
const emitter = createGlobalEmitter<{
  [key in Event["type"]]: Extract<Event, { type: key }>;
}>();

// Type argument is a `TSTypeLiteral`
const emitter2 = createGlobalEmitter<{
  longlonglonglongKey: Extract<Event, { type: key }>;
}>();

// Type argument is an `TSTypeReference`
// https://github.com/oxc-project/oxc/issues/17275
export class Test {
  readonly coordinates = model.required<
    Immutable<{
      latitude: number;
      longitude: number;
    }>
  >();
}

===================== End =====================
